<div class="w-100 px-5 pb-10 mx-auto">   
    <form [formGroup]="chatForm">
        <div class="flex flex-1" style="max-height: 92dvh;">
            <div class="flex flex-col pe-4 card p-2">
                <h4 class="mb-3 fw-bold">
                    Online Users
                </h4>
                <div class="flex align-items-center mb-3 p-2" *ngFor="let onlineUser of enteredUsers">
                    <div class="me-2">
                        <img [src]="imageRenderer(onlineUser.user.avatar!)" alt="My profile" class="w-10 h-10 rounded-full order-1">
                    </div>
                    <div class="flex align-items-center text-green-300">
                        {{onlineUser.user.username}}
                    </div>
                </div>
            </div>
            <div class="flex-1 px-2 sm:p-6 justify-between flex flex-col card" style="min-height: 840px;" >
                <div class="flex sm:items-center justify-between py-3 border-b-2 border-gray-200">
                <div class="relative flex items-center mx-auto space-x-4">
                    <div class="relative">
                        <span class="absolute text-green-500 right-0 bottom-0">
                            
                        </span>
                    <img src="../../../assets/images/light-box.svg" alt="" style="width: 100px">
                    </div>
                    <div class="flex flex-col leading-tight">
                        <div class="text-2xl mt-1 flex items-center">
                            <span class="text-gray-700 mr-3 mb-2">Global Chat</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <button type="button" class="inline-flex items-center justify-center rounded-lg border h-10 w-10 transition duration-500 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
                </div>
                <div id="messages" #scrollMe class="flex flex-col space-y-4 h-100 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch">
                    <div *ngFor="let msg of messages;" class="chat-message">
                        <div class="flex items-end" [ngClass]="{'justify-end': isUserMessageOwner(msg.user.id)}">
                            <div class="flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start">
                                <div><span class="px-4 py-2 rounded-lg inline-block rounded-bl-none text-gray-600" [ngClass]="{'logo-purple text-light': isUserMessageOwner(msg.user.id), 'bg-gray-100': !isUserMessageOwner(msg.user.id)}">{{msg.message}}</span></div>
                            </div>
                            <img [src]="imageRenderer(msg.user.avatar!)" alt="My profile" class="w-6 h-6 rounded-full order-1">
                        </div>
                    </div>
                </div>
                <div class="border-t-2 border-gray-200 px-2 pt-4 mb-2 sm:mb-0">
                <div class="relative flex">
                    <span class="absolute inset-y-0 flex items-center">
                        <button type="button" class="inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6 text-gray-600">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                        </button>
                    </span>
                    <input formControlName="message" type="text" placeholder="Write your message!" class="w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-12 bg-gray-200 rounded-md py-3">
                    <div class="absolute right-0 items-center inset-y-0 hidden sm:flex">
                        <button type="button" class="inline-flex items-center justify-center rounded-lg px-4 py-3 transition duration-500 ease-in-out text-white logo-purple hover:bg-blue-400 focus:outline-none" (click)="onSendMessage()">
                            <span class="font-bold">Send</span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-6 w-6 ml-2 transform rotate-90">
                            <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </form>
</div>